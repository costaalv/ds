

<!DOCTYPE html>


<html >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Aula 3.5 - Codificação de Variáveis Categóricas &#8212; My sample book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'TACTD-03-5-Codificacao_Categoricas';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Aula 4 - Análise de Componentes Principais - PCA" href="TACTD-04-PCA.html" />
    <link rel="prev" title="Aula 3.4 - Transformação de atributos" href="TACTD-03-4-Transformacao.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="None"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    MBA-2023
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">ICD</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="ICD_Aula1.html">Aula 1 - MBA em Ciência de Dados: Bibliotecas importantes</a></li>
<li class="toctree-l1"><a class="reference internal" href="ICD_Aula2.1-limpeza.html">Aula 2.1 - MBA em Ciência de Dados: Tratamento dos dados</a></li>
<li class="toctree-l1"><a class="reference internal" href="ICD_Aula2.2-est-descritiva.html">Aula 2.2 - MBA em Ciência de Dados: Estatística descritiva</a></li>
<li class="toctree-l1"><a class="reference internal" href="ICD_Aula3-regress%C3%A3o.html">Aula 3 - MBA em Ciência de Dados: Modelos de regressão</a></li>
<li class="toctree-l1"><a class="reference internal" href="ICD_Aula4-classificacao-Knn-NB-RL.html">Aula 4 - MBA em Ciência de Dados: knn, Regressão Logistica e Naive Bayes.</a></li>
<li class="toctree-l1"><a class="reference internal" href="ICD_Aula5-arvores-avaliacao.html">Aula 5 - MBA em Ciência de Dados: Árvores e avaliação</a></li>
<li class="toctree-l1"><a class="reference internal" href="ICD_Aula6-Selecao-Ajuste.html">Aula 6 - Ciência de Dados: Seleção e ajuste de modelos</a></li>
<li class="toctree-l1"><a class="reference internal" href="ICD_Aula7-clustering.html">Aula 7 - MBA em Ciência de Dados: Clustering</a></li>
<li class="toctree-l1"><a class="reference internal" href="ICD_Aula8-Projeto-Titanic.html">Aula 8 - Projeto de Ciência de Dados</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">PCD</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="PCD_01_Python%20I.html">Aula 1 - Python Parte 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="PCD_02_Python%20II.html">Aula 2 - Python Parte II</a></li>
<li class="toctree-l1"><a class="reference internal" href="PCD_03_Python%20III.html">Aula 3 - Python Parte III</a></li>
<li class="toctree-l1"><a class="reference internal" href="PCD_03_x_map_filter_reduce.html">Aula 3 - Funções ‘map’, ‘filter’ e ‘reduce’</a></li>
<li class="toctree-l1"><a class="reference internal" href="PCD_04_Numpy%20I%20.html">Aula 4 - Numpy Parte I</a></li>
<li class="toctree-l1"><a class="reference internal" href="PCD_05_Numpy%20II%20e%20Matplotlib.html">Aula 5 - Numpy Parte II e Matplotlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="PCD_06_Pandas%20I.html">Aula 6 - Pandas Parte I</a></li>
<li class="toctree-l1"><a class="reference internal" href="PCD_07_Pandas%20II.html">Aula 7 - Pandas Parte II</a></li>
<li class="toctree-l1"><a class="reference internal" href="PCD_08_Pandas%20III.html">Aula 8 - Pandas Parte III</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">ECD</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="ECD_01_Material_base_Visualiza%C3%A7%C3%A3o_de_dados.html">Aula 1 - Visualização de dados - Análise descritiva</a></li>
<li class="toctree-l1"><a class="reference internal" href="ECD_02_Aula2.html">Aula 2 - Probabilidades</a></li>
<li class="toctree-l1"><a class="reference internal" href="ECD_03_Aula3.html">Aula 3 - Modelos Probabilísticos</a></li>
<li class="toctree-l1"><a class="reference internal" href="ECD_04_Aula4-Normal-TCL-LGN.html">Aula 4 - Distribuição Normal e Teoremas Limites</a></li>
<li class="toctree-l1"><a class="reference internal" href="ECD_05_Aula5-teste-hipoteses.html">Aula 5 - Teste de hipóteses</a></li>
<li class="toctree-l1"><a class="reference internal" href="ECD_06_MaterialBase-Infer%C3%AAncia%20Bayesiana.html">Aula 6 - Inferência Bayesiana</a></li>
<li class="toctree-l1"><a class="reference internal" href="ECD_07_Materialbase-ModelosLineares.html">Aula 7 - Modelos de regressão</a></li>
<li class="toctree-l1"><a class="reference internal" href="ECD_08_MaterialBase-MLGs.html">Aula 8 - Modelos Lineares Generalizados</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">TACTD</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="TACTD-01-1-Tipos_de_dados.html">Aula 1.1 - Dados não estruturados</a></li>
<li class="toctree-l1"><a class="reference internal" href="TACTD-01-2-Informacoes_Faltantes.html">Aula 1.2 - Informações faltantes <em>(missing data)</em></a></li>
<li class="toctree-l1"><a class="reference internal" href="TACTD-01-3-Outliers_Ruido_Erros.html">Aula 1.3 - Outliers, ruído e dados incorretos/erros</a></li>
<li class="toctree-l1"><a class="reference internal" href="TACTD-01-4-Desbalanceamento_Redundancia.html">Aula 1.4 - Desbalanceamento e Redundância</a></li>
<li class="toctree-l1"><a class="reference internal" href="TACTD-01-5-Pipeline.html">Aula 1.5 - Pipeline geral de coleta e tratamento de dados</a></li>
<li class="toctree-l1"><a class="reference internal" href="TACTD-02-1-Redundancia.html">Aula 2.1 - Redundância: dados não informativos ou irrelevantes</a></li>
<li class="toctree-l1"><a class="reference internal" href="TACTD-02-2-Outliers.html">Aula 2.2 - Detecção e remoção de outliers</a></li>
<li class="toctree-l1"><a class="reference internal" href="TACTD-02-3-Faltantes.html">Aula 2.3 - Informações faltantes</a></li>

<li class="toctree-l1"><a class="reference internal" href="TACTD-02-4-Desbalanceamento.html">Aula 2.4 - Tratamento de desbalanceamento: subamostragem e aumentação de dados</a></li>
<li class="toctree-l1"><a class="reference internal" href="TACTD-03-1-Coleta_Aquisicao.html">Aula 3.1 - Coleta e Aquisição de Dados</a></li>
<li class="toctree-l1"><a class="reference internal" href="TACTD-03-2-Discretizacao.html">Aula 3.2 - Discretização</a></li>
<li class="toctree-l1"><a class="reference internal" href="TACTD-03-3-Normalizacao.html">Aula 3.3 - Normalização ou Padronização de atributos</a></li>
<li class="toctree-l1"><a class="reference internal" href="TACTD-03-4-Transformacao.html">Aula 3.4 - Transformação de atributos</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Aula 3.5 - Codificação de Variáveis Categóricas</a></li>
<li class="toctree-l1"><a class="reference internal" href="TACTD-04-PCA.html">Aula 4 - Análise de Componentes Principais - PCA</a></li>
<li class="toctree-l1"><a class="reference internal" href="TACTD-05-Extracao%20de%20Texto.html">Aula 5 - Identificação e Extração de Texto</a></li>
<li class="toctree-l1"><a class="reference internal" href="TACTD-06-material%20base.html">Aula 6 - Matriz Documento × Palavras - Bag of Words</a></li>
<li class="toctree-l1"><a class="reference internal" href="TACTD-07-1%20-%20Representacoes%20de%20dados%20nao%20estruturados.html">Aula 7.1 - Representações digitais de dados não estruturados: imagens e sinais</a></li>
<li class="toctree-l1"><a class="reference internal" href="TACTD-07-2%20-%20Descritores%20de%20sinais.html">Aula 7.2 - Descritores de sinais</a></li>
<li class="toctree-l1"><a class="reference internal" href="TACTD-07-3%20-%20Descritores%20de%20imagens.html">Aula 7.3 - Descritores de imagens</a></li>
<li class="toctree-l1"><a class="reference internal" href="TACTD-07-4%20-%20Bag%20of%20features.html">Aula 7.4 - Bag of Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="TACTD-08-Web%20Scraping.html">Aula 8 - Web Scraping</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Repositório fonte"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FTACTD-03-5-Codificacao_Categoricas.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Abra um problema"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Baixe esta página">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/TACTD-03-5-Codificacao_Categoricas.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Baixar arquivo fonte"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Imprimir em PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Modo tela cheia"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Aula 3.5 - Codificação de Variáveis Categóricas</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Conteúdo </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mba-em-ciencia-de-dados">MBA em Ciência de Dados</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tecnicas-avancadas-de-captura-e-tratamento-de-dados">Técnicas Avançadas de Captura e Tratamento de Dados</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#span-style-color-darkred-coleta-de-dados-e-preparacao-de-atributos-span"><span style="color:darkred">Coleta de dados e Preparação de atributos</span></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#span-style-color-darkred-codificacao-de-variaveis-categoricas-span"><span style="color:darkred">Codificação de Variáveis Categóricas</span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#variaveis-categoricas">Variáveis categóricas</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#categoricos-nominais">Categóricos nominais</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#categoricos-ordinais">Categóricos ordinais</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#codificacao-one-hot-ou-dummy-variables">Codificação <em>one-hot</em> ou <em>dummy variables</em></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sklearn-onehotencoder">sklearn <code class="docutils literal notranslate"><span class="pre">OneHotEncoder</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#na-pratica-metodos-pandas-vs-sklearn">Na prática: métodos <em>pandas</em> vs <em>sklearn</em></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resumo">Resumo:</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="aula-3-5-codificacao-de-variaveis-categoricas">
<h1>Aula 3.5 - Codificação de Variáveis Categóricas<a class="headerlink" href="#aula-3-5-codificacao-de-variaveis-categoricas" title="Permalink to this headline">#</a></h1>
<section id="mba-em-ciencia-de-dados">
<h2>MBA em Ciência de Dados<a class="headerlink" href="#mba-em-ciencia-de-dados" title="Permalink to this headline">#</a></h2>
</section>
<section id="tecnicas-avancadas-de-captura-e-tratamento-de-dados">
<h2>Técnicas Avançadas de Captura e Tratamento de Dados<a class="headerlink" href="#tecnicas-avancadas-de-captura-e-tratamento-de-dados" title="Permalink to this headline">#</a></h2>
<section id="span-style-color-darkred-coleta-de-dados-e-preparacao-de-atributos-span">
<h3><span style="color:darkred">Coleta de dados e Preparação de atributos</span><a class="headerlink" href="#span-style-color-darkred-coleta-de-dados-e-preparacao-de-atributos-span" title="Permalink to this headline">#</a></h3>
</section>
</section>
<section id="span-style-color-darkred-codificacao-de-variaveis-categoricas-span">
<h2><span style="color:darkred">Codificação de Variáveis Categóricas</span><a class="headerlink" href="#span-style-color-darkred-codificacao-de-variaveis-categoricas-span" title="Permalink to this headline">#</a></h2>
<p>Material Produzido por Moacir Antonelli Ponti<br>
<em>colaboração de Eugenio Ferreira Cabral</em></p>
<p>CeMEAI - ICMC/USP São Carlos</p>
</section>
<hr class="docutils" />
<section id="variaveis-categoricas">
<h2>Variáveis categóricas<a class="headerlink" href="#variaveis-categoricas" title="Permalink to this headline">#</a></h2>
<p>Variáveis categóricas, geralmente expressas por meio de texto, não são utilizáveis diretamente por parte dos modelos estatísticos e computacionais.</p>
<p>Obter codificações numéricas dessas variáveis se torna importante para permitir análise por um número mais amplo de ferramentas</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># carregando as bibliotecas necessárias</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># carregando dados</span>
<span class="n">data_orig</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;./dados/municipios_mba.csv&quot;</span><span class="p">)</span>
<span class="n">data_orig</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>gid</th>
      <th>UF</th>
      <th>nome</th>
      <th>Censo</th>
      <th>PIB</th>
      <th>pop</th>
      <th>classe</th>
      <th>desemprego</th>
      <th>pop_sanea</th>
      <th>expec_vida</th>
      <th>pobreza</th>
      <th>IDH</th>
      <th>urbaniz</th>
      <th>dens_pop_urbana</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>752</td>
      <td>ACRE</td>
      <td>Acrelândia</td>
      <td>2010.0</td>
      <td>151120.015625</td>
      <td>12241</td>
      <td>2</td>
      <td>5.2</td>
      <td>33.532382</td>
      <td>73.6</td>
      <td>19.2</td>
      <td>660</td>
      <td>rural</td>
      <td>muito baixa</td>
    </tr>
    <tr>
      <th>1</th>
      <td>747</td>
      <td>ACRE</td>
      <td>Assis Brasil</td>
      <td>2010.0</td>
      <td>48347.300781</td>
      <td>5662</td>
      <td>1</td>
      <td>5.0</td>
      <td>32.252163</td>
      <td>74.2</td>
      <td>18.9</td>
      <td>664</td>
      <td>rural</td>
      <td>muito baixa</td>
    </tr>
    <tr>
      <th>2</th>
      <td>748</td>
      <td>ACRE</td>
      <td>Brasiléia</td>
      <td>2010.0</td>
      <td>194979.828125</td>
      <td>20238</td>
      <td>1</td>
      <td>3.0</td>
      <td>31.663354</td>
      <td>75.3</td>
      <td>19.5</td>
      <td>667</td>
      <td>baixo</td>
      <td>média</td>
    </tr>
    <tr>
      <th>3</th>
      <td>754</td>
      <td>ACRE</td>
      <td>Bujari</td>
      <td>2010.0</td>
      <td>88708.031250</td>
      <td>6772</td>
      <td>2</td>
      <td>4.8</td>
      <td>33.501357</td>
      <td>73.4</td>
      <td>19.1</td>
      <td>659</td>
      <td>rural</td>
      <td>muito baixa</td>
    </tr>
    <tr>
      <th>4</th>
      <td>751</td>
      <td>ACRE</td>
      <td>Capixaba</td>
      <td>2010.0</td>
      <td>89052.679688</td>
      <td>9287</td>
      <td>1</td>
      <td>4.4</td>
      <td>33.431383</td>
      <td>75.4</td>
      <td>18.1</td>
      <td>661</td>
      <td>rural</td>
      <td>muito baixa</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Vamos estudar a variável <code class="docutils literal notranslate"><span class="pre">urbaniz</span></code>, juntamente com <code class="docutils literal notranslate"><span class="pre">IDH</span></code> e <code class="docutils literal notranslate"><span class="pre">pop_sanea</span></code> apenas para visualizar</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">data_orig</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># definindo variáveis</span>
<span class="n">attrs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;urbaniz&#39;</span><span class="p">,</span> <span class="s1">&#39;IDH&#39;</span><span class="p">,</span> <span class="s1">&#39;pop_sanea&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">attrs</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="n">var</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>

<span class="c1"># eliminando valores nulos</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="n">attrs</span><span class="p">)</span>
<span class="n">data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>urbaniz - object
IDH - int64
pop_sanea - float64
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>gid</th>
      <th>UF</th>
      <th>nome</th>
      <th>Censo</th>
      <th>PIB</th>
      <th>pop</th>
      <th>classe</th>
      <th>desemprego</th>
      <th>pop_sanea</th>
      <th>expec_vida</th>
      <th>pobreza</th>
      <th>IDH</th>
      <th>urbaniz</th>
      <th>dens_pop_urbana</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>752</td>
      <td>ACRE</td>
      <td>Acrelândia</td>
      <td>2010.0</td>
      <td>151120.015625</td>
      <td>12241</td>
      <td>2</td>
      <td>5.2</td>
      <td>33.532382</td>
      <td>73.6</td>
      <td>19.2</td>
      <td>660</td>
      <td>rural</td>
      <td>muito baixa</td>
    </tr>
    <tr>
      <th>1</th>
      <td>747</td>
      <td>ACRE</td>
      <td>Assis Brasil</td>
      <td>2010.0</td>
      <td>48347.300781</td>
      <td>5662</td>
      <td>1</td>
      <td>5.0</td>
      <td>32.252163</td>
      <td>74.2</td>
      <td>18.9</td>
      <td>664</td>
      <td>rural</td>
      <td>muito baixa</td>
    </tr>
    <tr>
      <th>2</th>
      <td>748</td>
      <td>ACRE</td>
      <td>Brasiléia</td>
      <td>2010.0</td>
      <td>194979.828125</td>
      <td>20238</td>
      <td>1</td>
      <td>3.0</td>
      <td>31.663354</td>
      <td>75.3</td>
      <td>19.5</td>
      <td>667</td>
      <td>baixo</td>
      <td>média</td>
    </tr>
    <tr>
      <th>3</th>
      <td>754</td>
      <td>ACRE</td>
      <td>Bujari</td>
      <td>2010.0</td>
      <td>88708.031250</td>
      <td>6772</td>
      <td>2</td>
      <td>4.8</td>
      <td>33.501357</td>
      <td>73.4</td>
      <td>19.1</td>
      <td>659</td>
      <td>rural</td>
      <td>muito baixa</td>
    </tr>
    <tr>
      <th>4</th>
      <td>751</td>
      <td>ACRE</td>
      <td>Capixaba</td>
      <td>2010.0</td>
      <td>89052.679688</td>
      <td>9287</td>
      <td>1</td>
      <td>4.4</td>
      <td>33.431383</td>
      <td>75.4</td>
      <td>18.1</td>
      <td>661</td>
      <td>rural</td>
      <td>muito baixa</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>5560</th>
      <td>1011</td>
      <td>TOCANTINS</td>
      <td>Tocantinópolis</td>
      <td>2010.0</td>
      <td>124657.000000</td>
      <td>21826</td>
      <td>1</td>
      <td>6.5</td>
      <td>28.405306</td>
      <td>75.0</td>
      <td>12.6</td>
      <td>705</td>
      <td>rural</td>
      <td>muito baixa</td>
    </tr>
    <tr>
      <th>5561</th>
      <td>5545</td>
      <td>TOCANTINS</td>
      <td>Tupirama</td>
      <td>2010.0</td>
      <td>34883.894531</td>
      <td>1474</td>
      <td>3</td>
      <td>4.6</td>
      <td>29.447854</td>
      <td>74.8</td>
      <td>12.9</td>
      <td>694</td>
      <td>rural</td>
      <td>muito baixa</td>
    </tr>
    <tr>
      <th>5562</th>
      <td>5546</td>
      <td>TOCANTINS</td>
      <td>Tupiratins</td>
      <td>2010.0</td>
      <td>30757.437500</td>
      <td>2143</td>
      <td>2</td>
      <td>7.0</td>
      <td>27.172728</td>
      <td>74.2</td>
      <td>12.6</td>
      <td>696</td>
      <td>rural</td>
      <td>muito baixa</td>
    </tr>
    <tr>
      <th>5563</th>
      <td>5141</td>
      <td>TOCANTINS</td>
      <td>Wanderlândia</td>
      <td>2010.0</td>
      <td>66966.773438</td>
      <td>9493</td>
      <td>1</td>
      <td>5.4</td>
      <td>27.762133</td>
      <td>74.4</td>
      <td>12.7</td>
      <td>692</td>
      <td>rural</td>
      <td>muito baixa</td>
    </tr>
    <tr>
      <th>5564</th>
      <td>1107</td>
      <td>TOCANTINS</td>
      <td>Xambioá</td>
      <td>2010.0</td>
      <td>117627.132812</td>
      <td>11099</td>
      <td>2</td>
      <td>4.9</td>
      <td>26.265226</td>
      <td>74.3</td>
      <td>11.6</td>
      <td>695</td>
      <td>rural</td>
      <td>muito baixa</td>
    </tr>
  </tbody>
</table>
<p>1870 rows × 14 columns</p>
</div></div></div>
</div>
<p>vamos verificar a distribuição dos dados que temos:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="n">attrs</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[&lt;Axes: title={&#39;center&#39;: &#39;IDH&#39;}&gt;,
        &lt;Axes: title={&#39;center&#39;: &#39;pop_sanea&#39;}&gt;]], dtype=object)
</pre></div>
</div>
<img alt="_images/76fa7aefb33ac3b9c03a0ae0f5abed88f7fe67034ff27ee1a52a3b7d99350011.png" src="_images/76fa7aefb33ac3b9c03a0ae0f5abed88f7fe67034ff27ee1a52a3b7d99350011.png" />
</div>
</div>
<p>A variável do tipo “objeto” é categórica para fins semânticos.</p>
<p>Por isso é preciso agregar <code class="docutils literal notranslate"><span class="pre">urbaniz</span></code> para plotar o histograma.</p>
<p>OBS: em pandas há um tipo “category” que funciona de forma diferente, veremos abaixo.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;urbaniz&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
<span class="n">data</span><span class="p">[</span><span class="s1">&#39;urbaniz&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;rural&#39;, &#39;baixo&#39;, &#39;médio&#39;, &#39;muito alto&#39;, &#39;alto&#39;], dtype=object)
</pre></div>
</div>
<img alt="_images/188487ac2d98e1c73cc83b957b8ba46e19290bc05d64f4ddc7791393e3c7e2f3.png" src="_images/188487ac2d98e1c73cc83b957b8ba46e19290bc05d64f4ddc7791393e3c7e2f3.png" />
</div>
</div>
<p>Há várias possibilidades para mapear valores categóricos em numéricos.</p>
<section id="categoricos-nominais">
<h3>Categóricos nominais<a class="headerlink" href="#categoricos-nominais" title="Permalink to this headline">#</a></h3>
<p>Casos em que não há relação de ordenação entre os elementos, podemos usar código ordenado de forma alfabética.</p>
<p>Nulos são representados por -1</p>
<p><strong>1. usando código associado ao tipo category (pandas)</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;urban_cod&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;urbaniz&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;category&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span>
<span class="n">data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>gid</th>
      <th>UF</th>
      <th>nome</th>
      <th>Censo</th>
      <th>PIB</th>
      <th>pop</th>
      <th>classe</th>
      <th>desemprego</th>
      <th>pop_sanea</th>
      <th>expec_vida</th>
      <th>pobreza</th>
      <th>IDH</th>
      <th>urbaniz</th>
      <th>dens_pop_urbana</th>
      <th>urban_cod</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>752</td>
      <td>ACRE</td>
      <td>Acrelândia</td>
      <td>2010.0</td>
      <td>151120.015625</td>
      <td>12241</td>
      <td>2</td>
      <td>5.2</td>
      <td>33.532382</td>
      <td>73.6</td>
      <td>19.2</td>
      <td>660</td>
      <td>rural</td>
      <td>muito baixa</td>
      <td>4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>747</td>
      <td>ACRE</td>
      <td>Assis Brasil</td>
      <td>2010.0</td>
      <td>48347.300781</td>
      <td>5662</td>
      <td>1</td>
      <td>5.0</td>
      <td>32.252163</td>
      <td>74.2</td>
      <td>18.9</td>
      <td>664</td>
      <td>rural</td>
      <td>muito baixa</td>
      <td>4</td>
    </tr>
    <tr>
      <th>2</th>
      <td>748</td>
      <td>ACRE</td>
      <td>Brasiléia</td>
      <td>2010.0</td>
      <td>194979.828125</td>
      <td>20238</td>
      <td>1</td>
      <td>3.0</td>
      <td>31.663354</td>
      <td>75.3</td>
      <td>19.5</td>
      <td>667</td>
      <td>baixo</td>
      <td>média</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>754</td>
      <td>ACRE</td>
      <td>Bujari</td>
      <td>2010.0</td>
      <td>88708.031250</td>
      <td>6772</td>
      <td>2</td>
      <td>4.8</td>
      <td>33.501357</td>
      <td>73.4</td>
      <td>19.1</td>
      <td>659</td>
      <td>rural</td>
      <td>muito baixa</td>
      <td>4</td>
    </tr>
    <tr>
      <th>4</th>
      <td>751</td>
      <td>ACRE</td>
      <td>Capixaba</td>
      <td>2010.0</td>
      <td>89052.679688</td>
      <td>9287</td>
      <td>1</td>
      <td>4.4</td>
      <td>33.431383</td>
      <td>75.4</td>
      <td>18.1</td>
      <td>661</td>
      <td>rural</td>
      <td>muito baixa</td>
      <td>4</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>5560</th>
      <td>1011</td>
      <td>TOCANTINS</td>
      <td>Tocantinópolis</td>
      <td>2010.0</td>
      <td>124657.000000</td>
      <td>21826</td>
      <td>1</td>
      <td>6.5</td>
      <td>28.405306</td>
      <td>75.0</td>
      <td>12.6</td>
      <td>705</td>
      <td>rural</td>
      <td>muito baixa</td>
      <td>4</td>
    </tr>
    <tr>
      <th>5561</th>
      <td>5545</td>
      <td>TOCANTINS</td>
      <td>Tupirama</td>
      <td>2010.0</td>
      <td>34883.894531</td>
      <td>1474</td>
      <td>3</td>
      <td>4.6</td>
      <td>29.447854</td>
      <td>74.8</td>
      <td>12.9</td>
      <td>694</td>
      <td>rural</td>
      <td>muito baixa</td>
      <td>4</td>
    </tr>
    <tr>
      <th>5562</th>
      <td>5546</td>
      <td>TOCANTINS</td>
      <td>Tupiratins</td>
      <td>2010.0</td>
      <td>30757.437500</td>
      <td>2143</td>
      <td>2</td>
      <td>7.0</td>
      <td>27.172728</td>
      <td>74.2</td>
      <td>12.6</td>
      <td>696</td>
      <td>rural</td>
      <td>muito baixa</td>
      <td>4</td>
    </tr>
    <tr>
      <th>5563</th>
      <td>5141</td>
      <td>TOCANTINS</td>
      <td>Wanderlândia</td>
      <td>2010.0</td>
      <td>66966.773438</td>
      <td>9493</td>
      <td>1</td>
      <td>5.4</td>
      <td>27.762133</td>
      <td>74.4</td>
      <td>12.7</td>
      <td>692</td>
      <td>rural</td>
      <td>muito baixa</td>
      <td>4</td>
    </tr>
    <tr>
      <th>5564</th>
      <td>1107</td>
      <td>TOCANTINS</td>
      <td>Xambioá</td>
      <td>2010.0</td>
      <td>117627.132812</td>
      <td>11099</td>
      <td>2</td>
      <td>4.9</td>
      <td>26.265226</td>
      <td>74.3</td>
      <td>11.6</td>
      <td>695</td>
      <td>rural</td>
      <td>muito baixa</td>
      <td>4</td>
    </tr>
  </tbody>
</table>
<p>1870 rows × 15 columns</p>
</div></div></div>
</div>
<p>Uma desvantagem é que usamos um critério numérico arbitrário (ordem alfabética), no qual diferença entre os códigos pode não ter sentido.</p>
<p>Exemplo, na codificação acima a diferença absoluta entre os códigos para: “rural” e “média” é 1</p>
<ul class="simple">
<li><p>O que isso significa?</p></li>
</ul>
<p><strong>2. usando map() por meio de dicionário</strong></p>
<p>Outra opção, mais genérica, é utilizar um mapa.</p>
<p>Abaixo vamos usar de 0 até 4, sendo 0 = rural e 4 = muito alto</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cat_urban</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;urbaniz&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="n">cat_urban</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;rural&#39;, &#39;baixo&#39;, &#39;médio&#39;, &#39;muito alto&#39;, &#39;alto&#39;], dtype=object)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">num_urban</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">cat_urban</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cat_urban</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">num_urban</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;rural&#39; &#39;baixo&#39; &#39;médio&#39; &#39;muito alto&#39; &#39;alto&#39;]
[0 1 2 3 4]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">map_urban</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">cat_urban</span><span class="p">,</span> <span class="n">num_urban</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Dicionário:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">map_urban</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Dicionário:
{&#39;rural&#39;: 0, &#39;baixo&#39;: 1, &#39;médio&#39;: 2, &#39;muito alto&#39;: 3, &#39;alto&#39;: 4}
</pre></div>
</div>
</div>
</div>
<p>A partir do dicionário podemos criar um mapa entre os valores existentes e novos valores, agora numéricos.</p>
<p>Essa opção é uma das mais rápidas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;urban_map&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;urbaniz&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">map_urban</span><span class="p">)</span>
<span class="n">data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>gid</th>
      <th>UF</th>
      <th>nome</th>
      <th>Censo</th>
      <th>PIB</th>
      <th>pop</th>
      <th>classe</th>
      <th>desemprego</th>
      <th>pop_sanea</th>
      <th>expec_vida</th>
      <th>pobreza</th>
      <th>IDH</th>
      <th>urbaniz</th>
      <th>dens_pop_urbana</th>
      <th>urban_cod</th>
      <th>urban_map</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>752</td>
      <td>ACRE</td>
      <td>Acrelândia</td>
      <td>2010.0</td>
      <td>151120.015625</td>
      <td>12241</td>
      <td>2</td>
      <td>5.2</td>
      <td>33.532382</td>
      <td>73.6</td>
      <td>19.2</td>
      <td>660</td>
      <td>rural</td>
      <td>muito baixa</td>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>747</td>
      <td>ACRE</td>
      <td>Assis Brasil</td>
      <td>2010.0</td>
      <td>48347.300781</td>
      <td>5662</td>
      <td>1</td>
      <td>5.0</td>
      <td>32.252163</td>
      <td>74.2</td>
      <td>18.9</td>
      <td>664</td>
      <td>rural</td>
      <td>muito baixa</td>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>748</td>
      <td>ACRE</td>
      <td>Brasiléia</td>
      <td>2010.0</td>
      <td>194979.828125</td>
      <td>20238</td>
      <td>1</td>
      <td>3.0</td>
      <td>31.663354</td>
      <td>75.3</td>
      <td>19.5</td>
      <td>667</td>
      <td>baixo</td>
      <td>média</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>754</td>
      <td>ACRE</td>
      <td>Bujari</td>
      <td>2010.0</td>
      <td>88708.031250</td>
      <td>6772</td>
      <td>2</td>
      <td>4.8</td>
      <td>33.501357</td>
      <td>73.4</td>
      <td>19.1</td>
      <td>659</td>
      <td>rural</td>
      <td>muito baixa</td>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>751</td>
      <td>ACRE</td>
      <td>Capixaba</td>
      <td>2010.0</td>
      <td>89052.679688</td>
      <td>9287</td>
      <td>1</td>
      <td>4.4</td>
      <td>33.431383</td>
      <td>75.4</td>
      <td>18.1</td>
      <td>661</td>
      <td>rural</td>
      <td>muito baixa</td>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>5560</th>
      <td>1011</td>
      <td>TOCANTINS</td>
      <td>Tocantinópolis</td>
      <td>2010.0</td>
      <td>124657.000000</td>
      <td>21826</td>
      <td>1</td>
      <td>6.5</td>
      <td>28.405306</td>
      <td>75.0</td>
      <td>12.6</td>
      <td>705</td>
      <td>rural</td>
      <td>muito baixa</td>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>5561</th>
      <td>5545</td>
      <td>TOCANTINS</td>
      <td>Tupirama</td>
      <td>2010.0</td>
      <td>34883.894531</td>
      <td>1474</td>
      <td>3</td>
      <td>4.6</td>
      <td>29.447854</td>
      <td>74.8</td>
      <td>12.9</td>
      <td>694</td>
      <td>rural</td>
      <td>muito baixa</td>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>5562</th>
      <td>5546</td>
      <td>TOCANTINS</td>
      <td>Tupiratins</td>
      <td>2010.0</td>
      <td>30757.437500</td>
      <td>2143</td>
      <td>2</td>
      <td>7.0</td>
      <td>27.172728</td>
      <td>74.2</td>
      <td>12.6</td>
      <td>696</td>
      <td>rural</td>
      <td>muito baixa</td>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>5563</th>
      <td>5141</td>
      <td>TOCANTINS</td>
      <td>Wanderlândia</td>
      <td>2010.0</td>
      <td>66966.773438</td>
      <td>9493</td>
      <td>1</td>
      <td>5.4</td>
      <td>27.762133</td>
      <td>74.4</td>
      <td>12.7</td>
      <td>692</td>
      <td>rural</td>
      <td>muito baixa</td>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>5564</th>
      <td>1107</td>
      <td>TOCANTINS</td>
      <td>Xambioá</td>
      <td>2010.0</td>
      <td>117627.132812</td>
      <td>11099</td>
      <td>2</td>
      <td>4.9</td>
      <td>26.265226</td>
      <td>74.3</td>
      <td>11.6</td>
      <td>695</td>
      <td>rural</td>
      <td>muito baixa</td>
      <td>4</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>1870 rows × 16 columns</p>
</div></div></div>
</div>
<p>Note que, mesmo ordenado, as diferenças podem ainda não fazer sentido.</p>
<ul class="simple">
<li><p>Aqui caso a diferença entre os códigos de “rural” e “média” é 2: o que isso quer dizer?</p></li>
</ul>
</section>
<section id="categoricos-ordinais">
<h3>Categóricos ordinais<a class="headerlink" href="#categoricos-ordinais" title="Permalink to this headline">#</a></h3>
<p>Para cenários em que as categorias podem ser ordenadas, como notas, faixas salariais, escalas, podemos usar ordenação categórica:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cat_ord_urban</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;rural&#39;</span><span class="p">,</span> <span class="s1">&#39;baixo&#39;</span><span class="p">,</span> <span class="s1">&#39;médio&#39;</span><span class="p">,</span> <span class="s1">&#39;alto&#39;</span><span class="p">,</span> <span class="s1">&#39;muito alto&#39;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cat_ord_urban</span><span class="p">)</span>

<span class="c1"># criar um tipo de dado novo Pandas</span>
<span class="n">urban_ord_type</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">CategoricalDtype</span><span class="p">(</span><span class="n">categories</span><span class="o">=</span><span class="n">cat_ord_urban</span><span class="p">,</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># convertendo os dados originais para o novo tipo</span>
<span class="n">data</span><span class="p">[</span><span class="s1">&#39;urban_ord&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;urbaniz&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">urban_ord_type</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;rural&#39;, &#39;baixo&#39;, &#39;médio&#39;, &#39;alto&#39;, &#39;muito alto&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">urban_atts</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;urbaniz&#39;</span><span class="p">,</span> <span class="s1">&#39;urban_cod&#39;</span><span class="p">,</span> <span class="s1">&#39;urban_map&#39;</span><span class="p">,</span> <span class="s1">&#39;urban_ord&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">urban_atts</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="n">var</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>

<span class="n">data</span><span class="p">[</span><span class="s1">&#39;urban_ord&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>urbaniz - object
urban_cod - int8
urban_map - int64
urban_ord - category
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0       rural
1       rural
2       baixo
3       rural
4       rural
        ...  
5560    rural
5561    rural
5562    rural
5563    rural
5564    rural
Name: urban_ord, Length: 1870, dtype: category
Categories (5, object): [&#39;rural&#39; &lt; &#39;baixo&#39; &lt; &#39;médio&#39; &lt; &#39;alto&#39; &lt; &#39;muito alto&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[:</span><span class="mi">18</span><span class="p">,</span> <span class="n">urban_atts</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>urbaniz</th>
      <th>urban_cod</th>
      <th>urban_map</th>
      <th>urban_ord</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>rural</td>
      <td>4</td>
      <td>0</td>
      <td>rural</td>
    </tr>
    <tr>
      <th>1</th>
      <td>rural</td>
      <td>4</td>
      <td>0</td>
      <td>rural</td>
    </tr>
    <tr>
      <th>2</th>
      <td>baixo</td>
      <td>1</td>
      <td>1</td>
      <td>baixo</td>
    </tr>
    <tr>
      <th>3</th>
      <td>rural</td>
      <td>4</td>
      <td>0</td>
      <td>rural</td>
    </tr>
    <tr>
      <th>4</th>
      <td>rural</td>
      <td>4</td>
      <td>0</td>
      <td>rural</td>
    </tr>
    <tr>
      <th>5</th>
      <td>médio</td>
      <td>3</td>
      <td>2</td>
      <td>médio</td>
    </tr>
    <tr>
      <th>6</th>
      <td>rural</td>
      <td>4</td>
      <td>0</td>
      <td>rural</td>
    </tr>
    <tr>
      <th>7</th>
      <td>baixo</td>
      <td>1</td>
      <td>1</td>
      <td>baixo</td>
    </tr>
    <tr>
      <th>8</th>
      <td>rural</td>
      <td>4</td>
      <td>0</td>
      <td>rural</td>
    </tr>
    <tr>
      <th>9</th>
      <td>baixo</td>
      <td>1</td>
      <td>1</td>
      <td>baixo</td>
    </tr>
    <tr>
      <th>10</th>
      <td>rural</td>
      <td>4</td>
      <td>0</td>
      <td>rural</td>
    </tr>
    <tr>
      <th>11</th>
      <td>rural</td>
      <td>4</td>
      <td>0</td>
      <td>rural</td>
    </tr>
    <tr>
      <th>12</th>
      <td>baixo</td>
      <td>1</td>
      <td>1</td>
      <td>baixo</td>
    </tr>
    <tr>
      <th>13</th>
      <td>rural</td>
      <td>4</td>
      <td>0</td>
      <td>rural</td>
    </tr>
    <tr>
      <th>14</th>
      <td>rural</td>
      <td>4</td>
      <td>0</td>
      <td>rural</td>
    </tr>
    <tr>
      <th>15</th>
      <td>muito alto</td>
      <td>2</td>
      <td>3</td>
      <td>muito alto</td>
    </tr>
    <tr>
      <th>16</th>
      <td>rural</td>
      <td>4</td>
      <td>0</td>
      <td>rural</td>
    </tr>
    <tr>
      <th>17</th>
      <td>rural</td>
      <td>4</td>
      <td>0</td>
      <td>rural</td>
    </tr>
    <tr>
      <th>18</th>
      <td>rural</td>
      <td>4</td>
      <td>0</td>
      <td>rural</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><em>Aqui, temos a ordenação codificada nos metadados, mas não há operadores!</em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># subtracao &quot;medio&quot; - &quot;rural&quot;</span>
<span class="c1">#data.loc[5, &#39;urban_ord&#39;]  - data.loc[0, &#39;urban_ord&#39;]</span>

<span class="c1"># comparacao &quot;medio&quot; &gt; &quot;rural&quot;</span>
<span class="k">if</span> <span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;urban_ord&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;urban_ord&#39;</span><span class="p">]):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;médio &gt; rural&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;rural &lt;= médio&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>rural &lt;= médio
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="s1">&#39;urban_ord&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;baixo&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">15</span><span class="p">,</span> <span class="s1">&#39;urban_ord&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;muito alto&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">15</span><span class="p">,</span> <span class="s1">&#39;urban_ord&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="s1">&#39;urban_ord&#39;</span><span class="p">]):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;muito alto &gt; baixo&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>muito alto &gt; baixo
</pre></div>
</div>
</div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="codificacao-one-hot-ou-dummy-variables">
<h2>Codificação <em>one-hot</em> ou <em>dummy variables</em><a class="headerlink" href="#codificacao-one-hot-ou-dummy-variables" title="Permalink to this headline">#</a></h2>
<p>A mais adequada para modelagem por aprendizado de máquina.</p>
<p>Transforma cada possível categoria em uma variável binária indicando presença ou não de um valor.</p>
<p>É o ideal quando possuo dados categóricos não ordinais!</p>
<p>Em pandas é possível usar a função <code class="docutils literal notranslate"><span class="pre">get_dummies()</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dummy_vars</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;urbaniz&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dummy_vars</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>       alto  baixo  muito alto  médio  rural
0     False  False       False  False   True
1     False  False       False  False   True
2     False   True       False  False  False
3     False  False       False  False   True
4     False  False       False  False   True
...     ...    ...         ...    ...    ...
5560  False  False       False  False   True
5561  False  False       False  False   True
5562  False  False       False  False   True
5563  False  False       False  False   True
5564  False  False       False  False   True

[1870 rows x 5 columns]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>gid</th>
      <th>UF</th>
      <th>nome</th>
      <th>Censo</th>
      <th>PIB</th>
      <th>pop</th>
      <th>classe</th>
      <th>desemprego</th>
      <th>pop_sanea</th>
      <th>expec_vida</th>
      <th>pobreza</th>
      <th>IDH</th>
      <th>urbaniz</th>
      <th>dens_pop_urbana</th>
      <th>urban_cod</th>
      <th>urban_map</th>
      <th>urban_ord</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>752</td>
      <td>ACRE</td>
      <td>Acrelândia</td>
      <td>2010.0</td>
      <td>151120.015625</td>
      <td>12241</td>
      <td>2</td>
      <td>5.2</td>
      <td>33.532382</td>
      <td>73.6</td>
      <td>19.2</td>
      <td>660</td>
      <td>rural</td>
      <td>muito baixa</td>
      <td>4</td>
      <td>0</td>
      <td>rural</td>
    </tr>
    <tr>
      <th>1</th>
      <td>747</td>
      <td>ACRE</td>
      <td>Assis Brasil</td>
      <td>2010.0</td>
      <td>48347.300781</td>
      <td>5662</td>
      <td>1</td>
      <td>5.0</td>
      <td>32.252163</td>
      <td>74.2</td>
      <td>18.9</td>
      <td>664</td>
      <td>rural</td>
      <td>muito baixa</td>
      <td>4</td>
      <td>0</td>
      <td>rural</td>
    </tr>
    <tr>
      <th>2</th>
      <td>748</td>
      <td>ACRE</td>
      <td>Brasiléia</td>
      <td>2010.0</td>
      <td>194979.828125</td>
      <td>20238</td>
      <td>1</td>
      <td>3.0</td>
      <td>31.663354</td>
      <td>75.3</td>
      <td>19.5</td>
      <td>667</td>
      <td>baixo</td>
      <td>média</td>
      <td>1</td>
      <td>1</td>
      <td>baixo</td>
    </tr>
    <tr>
      <th>3</th>
      <td>754</td>
      <td>ACRE</td>
      <td>Bujari</td>
      <td>2010.0</td>
      <td>88708.031250</td>
      <td>6772</td>
      <td>2</td>
      <td>4.8</td>
      <td>33.501357</td>
      <td>73.4</td>
      <td>19.1</td>
      <td>659</td>
      <td>rural</td>
      <td>muito baixa</td>
      <td>4</td>
      <td>0</td>
      <td>rural</td>
    </tr>
    <tr>
      <th>4</th>
      <td>751</td>
      <td>ACRE</td>
      <td>Capixaba</td>
      <td>2010.0</td>
      <td>89052.679688</td>
      <td>9287</td>
      <td>1</td>
      <td>4.4</td>
      <td>33.431383</td>
      <td>75.4</td>
      <td>18.1</td>
      <td>661</td>
      <td>rural</td>
      <td>muito baixa</td>
      <td>4</td>
      <td>0</td>
      <td>rural</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>5560</th>
      <td>1011</td>
      <td>TOCANTINS</td>
      <td>Tocantinópolis</td>
      <td>2010.0</td>
      <td>124657.000000</td>
      <td>21826</td>
      <td>1</td>
      <td>6.5</td>
      <td>28.405306</td>
      <td>75.0</td>
      <td>12.6</td>
      <td>705</td>
      <td>rural</td>
      <td>muito baixa</td>
      <td>4</td>
      <td>0</td>
      <td>rural</td>
    </tr>
    <tr>
      <th>5561</th>
      <td>5545</td>
      <td>TOCANTINS</td>
      <td>Tupirama</td>
      <td>2010.0</td>
      <td>34883.894531</td>
      <td>1474</td>
      <td>3</td>
      <td>4.6</td>
      <td>29.447854</td>
      <td>74.8</td>
      <td>12.9</td>
      <td>694</td>
      <td>rural</td>
      <td>muito baixa</td>
      <td>4</td>
      <td>0</td>
      <td>rural</td>
    </tr>
    <tr>
      <th>5562</th>
      <td>5546</td>
      <td>TOCANTINS</td>
      <td>Tupiratins</td>
      <td>2010.0</td>
      <td>30757.437500</td>
      <td>2143</td>
      <td>2</td>
      <td>7.0</td>
      <td>27.172728</td>
      <td>74.2</td>
      <td>12.6</td>
      <td>696</td>
      <td>rural</td>
      <td>muito baixa</td>
      <td>4</td>
      <td>0</td>
      <td>rural</td>
    </tr>
    <tr>
      <th>5563</th>
      <td>5141</td>
      <td>TOCANTINS</td>
      <td>Wanderlândia</td>
      <td>2010.0</td>
      <td>66966.773438</td>
      <td>9493</td>
      <td>1</td>
      <td>5.4</td>
      <td>27.762133</td>
      <td>74.4</td>
      <td>12.7</td>
      <td>692</td>
      <td>rural</td>
      <td>muito baixa</td>
      <td>4</td>
      <td>0</td>
      <td>rural</td>
    </tr>
    <tr>
      <th>5564</th>
      <td>1107</td>
      <td>TOCANTINS</td>
      <td>Xambioá</td>
      <td>2010.0</td>
      <td>117627.132812</td>
      <td>11099</td>
      <td>2</td>
      <td>4.9</td>
      <td>26.265226</td>
      <td>74.3</td>
      <td>11.6</td>
      <td>695</td>
      <td>rural</td>
      <td>muito baixa</td>
      <td>4</td>
      <td>0</td>
      <td>rural</td>
    </tr>
  </tbody>
</table>
<p>1870 rows × 17 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">data</span><span class="p">,</span> <span class="n">dummy_vars</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">atts_dummy</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;urbaniz&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">cat_urban</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">atts_dummy</span><span class="p">)</span>

<span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[:</span><span class="mi">13</span> <span class="p">,</span> <span class="n">atts_dummy</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;urbaniz&#39;, &#39;rural&#39;, &#39;baixo&#39;, &#39;médio&#39;, &#39;muito alto&#39;, &#39;alto&#39;]
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>urbaniz</th>
      <th>rural</th>
      <th>baixo</th>
      <th>médio</th>
      <th>muito alto</th>
      <th>alto</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>rural</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>rural</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>baixo</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>rural</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>rural</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>5</th>
      <td>médio</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>6</th>
      <td>rural</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>7</th>
      <td>baixo</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>8</th>
      <td>rural</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>9</th>
      <td>baixo</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>10</th>
      <td>rural</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>11</th>
      <td>rural</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>12</th>
      <td>baixo</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>13</th>
      <td>rural</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Funciona bem apenas se desejamos fazer uma única transformação numa base de dados conhecida</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">new_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="s1">&#39;rural&#39;</span><span class="p">,</span> <span class="s1">&#39;baixo&#39;</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;urbaniz&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">new_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  urbaniz
0   rural
1   baixo
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">new_data</span><span class="p">[</span><span class="s1">&#39;urbaniz&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>baixo</th>
      <th>rural</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>False</td>
      <td>True</td>
    </tr>
    <tr>
      <th>1</th>
      <td>True</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<section id="sklearn-onehotencoder">
<h3>sklearn <code class="docutils literal notranslate"><span class="pre">OneHotEncoder</span></code><a class="headerlink" href="#sklearn-onehotencoder" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p>Boa opção para colocar modelos em produção, trabalhando com arrays <code class="docutils literal notranslate"><span class="pre">numpy</span></code></p></li>
<li><p>Permite ignorar categorias fora do vocabulário</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">OneHotEncoder</span>

<span class="n">enc</span> <span class="o">=</span> <span class="n">OneHotEncoder</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">enc</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;urbaniz&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>#sk-container-id-1 {color: black;background-color: white;}#sk-container-id-1 pre{padding: 0;}#sk-container-id-1 div.sk-toggleable {background-color: white;}#sk-container-id-1 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-1 label.sk-toggleable__label-arrow:before {content: "▸";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-1 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-1 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-1 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-1 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-1 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-1 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "▾";}#sk-container-id-1 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-1 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-1 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-1 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-1 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-1 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-1 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-1 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-1 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-1 div.sk-item {position: relative;z-index: 1;}#sk-container-id-1 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-1 div.sk-item::before, #sk-container-id-1 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-1 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-1 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-1 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-1 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-1 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-1 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-1 div.sk-label-container {text-align: center;}#sk-container-id-1 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-1 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-1" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>OneHotEncoder()</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br />On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-1" type="checkbox" checked><label for="sk-estimator-id-1" class="sk-toggleable__label sk-toggleable__label-arrow">OneHotEncoder</label><div class="sk-toggleable__content"><pre>OneHotEncoder()</pre></div></div></div></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">enc</span><span class="o">.</span><span class="n">categories_</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[array([&#39;alto&#39;, &#39;baixo&#39;, &#39;muito alto&#39;, &#39;médio&#39;, &#39;rural&#39;], dtype=object)]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">train_dataset</span> <span class="o">=</span> <span class="n">enc</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;urbaniz&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">toarray</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">train_dataset</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[0., 0., 0., 0., 1.],
       [0., 0., 0., 0., 1.],
       [0., 1., 0., 0., 0.],
       ...,
       [0., 0., 0., 0., 1.],
       [0., 0., 0., 0., 1.],
       [0., 0., 0., 0., 1.]])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">enc</span><span class="o">.</span><span class="n">transform</span><span class="p">([[</span><span class="s1">&#39;baixo&#39;</span><span class="p">]])</span><span class="o">.</span><span class="n">toarray</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[0., 1., 0., 0., 0.]])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">enc</span><span class="o">.</span><span class="n">transform</span><span class="p">([[</span><span class="s1">&#39;rural&#39;</span><span class="p">]])</span><span class="o">.</span><span class="n">toarray</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[0., 0., 0., 0., 1.]])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">enc</span><span class="o">.</span><span class="n">transform</span><span class="p">([[</span><span class="s1">&#39;médio&#39;</span><span class="p">]])</span><span class="o">.</span><span class="n">toarray</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[0., 0., 0., 1., 0.]])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">OneHotEncoder</span>

<span class="n">enc_ignore</span> <span class="o">=</span> <span class="n">OneHotEncoder</span><span class="p">(</span><span class="n">handle_unknown</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
<span class="n">enc_ignore</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;urbaniz&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="n">enc_ignore</span><span class="o">.</span><span class="n">transform</span><span class="p">([[</span><span class="s1">&#39;baixo&#39;</span><span class="p">]])</span><span class="o">.</span><span class="n">toarray</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">enc_ignore</span><span class="o">.</span><span class="n">transform</span><span class="p">([[</span><span class="s1">&#39;rural&#39;</span><span class="p">]])</span><span class="o">.</span><span class="n">toarray</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">enc_ignore</span><span class="o">.</span><span class="n">transform</span><span class="p">([[</span><span class="s1">&#39;muito baixo&#39;</span><span class="p">]])</span><span class="o">.</span><span class="n">toarray</span><span class="p">(),</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[0. 1. 0. 0. 0.]]
[[0. 0. 0. 0. 1.]]
[[0. 0. 0. 0. 0.]] 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Invertendo a transformação:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">enc_ignore</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]]))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">enc_ignore</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]]))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Invertendo a transformação:
[[&#39;baixo&#39;]]
[[&#39;médio&#39;]]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Casos mal formados:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">enc_ignore</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]]))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">enc_ignore</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]]))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">enc_ignore</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">]]))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">enc_ignore</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]]))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Casos mal formados:
[[&#39;baixo&#39;]]
[[None]]
[[&#39;rural&#39;]]
[[&#39;alto&#39;]]
</pre></div>
</div>
</div>
</div>
</section>
<hr class="docutils" />
<section id="na-pratica-metodos-pandas-vs-sklearn">
<h3>Na prática: métodos <em>pandas</em> vs <em>sklearn</em><a class="headerlink" href="#na-pratica-metodos-pandas-vs-sklearn" title="Permalink to this headline">#</a></h3>
<table align="center">
	<thead>
		<tr>
            <th>Tipo</th>
			<th>Função</th>
			<th width="400px">Descrição</th>
		</tr>
    </thead>
    <tbody>
		<tr>
            <td>Nominal</td>
            <td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.OneHotEncoder.html">OneHotEncoder</a> (sklearn)</td>
            <td>O método <i>aprende</i> as categorias a partir do conjunto. Fornece parametros para tratar com categorias desconhecidas e permite transformação inversa.</td>
        </tr>
        <tr>
            <td>Nominal</td>
            <td><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.get_dummies.html">get_dummies</a> (pandas)</td>
            <td>O método não <i>aprende</i> as categorias do conjunto. Pode gerar inconsistencias caso exista categorias desconhecidas e não permite fazer transformação inversa de forma trivial.</td>
		</tr>
        <tr>
            <td>Ordinal</td>
            <td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.OrdinalEncoder.html">OrdinalEncoder</a> (sklearn)</td>
            <td>Permite identificar ordem das categorias automáticamente e fornece parametros para especificar a ordem das categorias, permite transformação inversa.</td>
		</tr>
        <tr>
            <td>Ordinal</td>
            <td><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.map.html">map</a> (pandas)</td>
            <td>Permite especificar a ordem das categorias, mas não permite fazer a transformação inversa de forma trivial.</td>
		</tr>
        <tr>
            <td>Rótulo</td>
            <td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.LabelEncoder.html">LabelEncoder</a> (sklearn)</td>
            <td>Usado **somente** para codificar <i>rótulos do alvo</i> no aprendizado supervisionado para converter um problema de classificação em regressão ou reduzir consumo de memória caso a variável resposta seja grande (em tamanho ou frequência).</td>
		</tr>
	</tbody>
</table></section>
<section id="resumo">
<h3>Resumo:<a class="headerlink" href="#resumo" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p>Pode ser preciso codificar variáveis categóricas em diferentes formatos</p></li>
<li><p>Considerar a natureza dos dados e sua aplicação para definir o tipo destino:</p>
<ul>
<li><p>categórico ordinal</p></li>
<li><p>codificação nominal</p></li>
<li><p>codificação ordinal</p></li>
<li><p>one-hot / dummy variables</p></li>
</ul>
</li>
</ul>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="TACTD-03-4-Transformacao.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Aula 3.4 - Transformação de atributos</p>
      </div>
    </a>
    <a class="right-next"
       href="TACTD-04-PCA.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Aula 4 - Análise de Componentes Principais - PCA</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Conteúdo
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mba-em-ciencia-de-dados">MBA em Ciência de Dados</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tecnicas-avancadas-de-captura-e-tratamento-de-dados">Técnicas Avançadas de Captura e Tratamento de Dados</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#span-style-color-darkred-coleta-de-dados-e-preparacao-de-atributos-span"><span style="color:darkred">Coleta de dados e Preparação de atributos</span></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#span-style-color-darkred-codificacao-de-variaveis-categoricas-span"><span style="color:darkred">Codificação de Variáveis Categóricas</span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#variaveis-categoricas">Variáveis categóricas</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#categoricos-nominais">Categóricos nominais</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#categoricos-ordinais">Categóricos ordinais</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#codificacao-one-hot-ou-dummy-variables">Codificação <em>one-hot</em> ou <em>dummy variables</em></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sklearn-onehotencoder">sklearn <code class="docutils literal notranslate"><span class="pre">OneHotEncoder</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#na-pratica-metodos-pandas-vs-sklearn">Na prática: métodos <em>pandas</em> vs <em>sklearn</em></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resumo">Resumo:</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
De The Jupyter Book Community
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>